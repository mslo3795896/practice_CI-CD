{"version":3,"file":"Header-bfed649c.js","sources":["../../../cms-frontend/src/layout/Header.vue"],"sourcesContent":["<script>\nimport { authComputed } from '@store/helpers'\n\nexport default {\n  computed: {\n    ...authComputed,\n    currentUserName() {\n      return this.currentUser?.name\n    },\n    collapsed: {\n      get() {\n        return this.$store.state.global.menuCollapsed\n      },\n      set(value) {\n        this.$store.dispatch('global/toggleMenu', value)\n      },\n    },\n  },\n  methods: {\n    onClickDropdown(command) {\n      if (command === 'logout') this.tryToLogout()\n    },\n    async tryToLogout() {\n      await this.$store.dispatch('auth/logOut')\n\n      this.$router.push({\n        name: 'login',\n      })\n    },\n  },\n}\n</script>\n<template>\n  <a-layout-header :class=\"$style.header\" :style=\"`${collapsed ? 'left: 80px;' : ''}`\">\n    <a-row :class=\"$style.navbar\" type=\"flex\" justify=\"space-between\" align=\"middle\">\n      <a-col :span=\"12\">\n        <i v-if=\"collapsed\" class=\"fal fa-clipboard-list fa-2x text-primary\" @click=\"collapsed = !collapsed\" />\n        <i v-else class=\"fal fa-clipboard-list fa-2x\" @click=\"collapsed = !collapsed\" />\n      </a-col>\n      <a-col :span=\"12\" class=\"text-right\">\n        <a-dropdown :trigger=\"['click']\">\n          <a class=\"ant-dropdown-link\" @click.prevent>\n            {{ currentUserName }}\n            <i class=\"fas fa-caret-down\" />\n          </a>\n          <template #overlay>\n            <a-menu>\n              <a-menu-item key=\"0\" @click=\"tryToLogout\">\n                登出\n                <i class=\"fal fa-sign-out\" />\n              </a-menu-item>\n            </a-menu>\n          </template>\n        </a-dropdown>\n      </a-col>\n    </a-row>\n  </a-layout-header>\n</template>\n<style lang=\"scss\" module>\n.header {\n  position: fixed;\n  z-index: 1;\n  background: #fff !important;\n  top: 0;\n  left: 200px;\n  right: 0;\n  transition: all 0.2s;\n  box-shadow: 0px 1px 10px 0px rgba(0, 0, 0, 0.15);\n  height: auto;\n  padding: 0;\n}\n\n.navbar {\n  padding: 0 20px;\n}\n</style>\n"],"names":["_createTextVNode"],"mappings":"upBAGA,SACE,SAAU,OACL,GADK,CAER,iBAAkB,OAChB,MAAO,QAAK,cAAL,cAAkB,MAE3B,UAAW,CACT,KAAM,CACJ,MAAO,MAAK,OAAO,MAAM,OAAO,eAElC,IAAI,EAAO,CACT,KAAK,OAAO,SAAS,oBAAqB,OAIhD,QAAS,CACP,gBAAgB,EAAS,CACvB,AAAI,IAAY,UAAU,KAAK,oBAE3B,cAAc,CAClB,KAAM,MAAK,OAAO,SAAS,eAE3B,KAAK,QAAQ,KAAK,CAChB,KAAM,4DAuBEA,iNAhB2B,0FACT,yBAAY,YAAwB,8GAE1C,IAAK,EAA6C,MAAK,2GACjE,IAAK,EAAgC,MAAK,+FAEpC,kHAQY,+CAEpB,0DARwB,MAAK,iEAEjCA"}